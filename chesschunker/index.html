<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Chunker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>Chess Chunker</h1>
        <div class="controls">
            <button id="start-button">Start Game</button>
            <button id="instructions-button">Instructions</button>
        </div>
        <div class="game-layout">
            <div id="left-piece-palette" class="piece-palette left">
                <h2>White</h2>
                <div class="palette-pieces">
                    <!-- Draggable white pieces will be added here by JS -->
                </div>
            </div>
            <div class="main-game-area">
                <div id="game-board" class="grid">
                    <!-- Grid cells will be generated by JS -->
                </div>
            </div>
            <div id="right-piece-palette" class="piece-palette right">
                <h2>Black</h2>
                <div class="palette-pieces">
                    <!-- Draggable black pieces will be added here by JS -->
                </div>
            </div>
        </div>
        <div id="message" class="message">Press Start Game to begin!</div>
        <div id="timer" class="timer">Time Left: <span id="time"></span></div>
    </div>

    <!-- Instructions Modal -->
    <div id="instructions-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>How to Play Chess Memory Matrix</h2>
            <p><strong>Goal:</strong> Memorize the positions of the chess pieces shown on the board and then correctly place them back.</p>
            <ol>
                <li>Click <strong>Start Game</strong>.</li>
                <li><strong>Memorize Phase:</strong> The pieces will appear on the board for a short time (based on piece count). Study their positions carefully!</li>
                <li><strong>Recall Phase:</strong> The board will clear. Drag the correct chess pieces from the side palettes onto their remembered positions on the board. There is no time limit for placement.</li>
                <li>If you place all pieces correctly, you progress! The number of pieces might increase, or the grid size might grow (up to 8x8).</li>
                <li>If you make a mistake, you might regress by having fewer pieces or a smaller grid in the next round.</li>
                <li>You have a limited number of consecutive incorrect attempts before the game is over.</li>
            </ol>
            <p>Good luck training your memory!</p>
        </div>
    </div>
    <!-- End Instructions Modal -->

    <script type="importmap">
        {
            "imports": {
                "config": "./config.js",
                "gameLogic": "./gameLogic.js",
                "ui": "./ui.js",
                "dragdrop": "./dragdrop.js",
                "audio": "./audio.js",
                "instructions": "./instructions.js",
                "patternGenerator": "./patternGenerator.js",
                "validation": "./validation.js"
            }
        }
    </script>
    <script type="module" src="script.js"></script>
</body>
</html>
